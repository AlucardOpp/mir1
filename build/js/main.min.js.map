{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/main.js","webpack:///./js/modules/auto-resize-textarea.js","webpack:///./js/modules/catalog-form.js","webpack:///./js/modules/catalog-select.js","webpack:///./js/modules/checkbox-accordions.js","webpack:///./js/modules/configuration-tabs.js","webpack:///./js/modules/constants.js","webpack:///./js/modules/header-tabs.js","webpack:///./js/modules/mobile-menu.js","webpack:///./js/modules/modals/init-modals.js","webpack:///./js/modules/modals/modals.js","webpack:///./js/modules/phone-mask.js","webpack:///./js/modules/qanda-accordions.js","webpack:///./js/modules/slider-image.js","webpack:///./js/modules/slider-main-projects.js","webpack:///./js/modules/slider-promo.js","webpack:///./js/modules/slider-related-products.js","webpack:///./js/modules/slider-spec-offer.js","webpack:///./js/modules/slider-text-page.js","webpack:///./js/modules/slider-with-text.js","webpack:///./js/modules/tabIndex.js","webpack:///./js/modules/visible-search.js","webpack:///./js/utils/focus-lock.js","webpack:///./js/utils/ios-checker.js","webpack:///./js/utils/ios-vh-fix.js","webpack:///./js/utils/scroll-lock.js","webpack:///./js/vendor/custom-select.js"],"names":["window","addEventListener","iosVhFix","visibleSearchField","mobileMenu","headerTabs","enablePromoSlider","enableMainProjectsSlider","enableSliderWithText","enableSliderTextPage","enableSliderImage","enableSpecialOfferSlider","enableRelatedProductsSlider","enableSwiperTabs","setAccordions","setCheckboxAccordions","setCatalogSelect","setCatalogForm","initPhoneMask","initConfigurationTab","disableTabIndex","enableTabIndex","initAutoResizeTextarea","initModals","textarea","document","querySelectorAll","getHeightWithoutBorder","el","realscrollHeight","scrollHeight","value","offsetHeight","clientHeight","resizeHeight","style","height","length","forEach","classList","add","overflow","resize","form","closest","catalogForm","querySelector","clearButton","openFilters","catalogContainer","reset","toggle","contains","setAttribute","remove","customSelect","select","something","checkboxAccordionTriggers","checkboxTriggersExist","checkboxes","onCheckboxAccordionClick","event","id","target","getAttribute","item","showItem","onEscKeydown","evt","key","removeEventListener","onOverlayClick","button","itsCheckbox","trigger","contents","tabs","findClearActiveClass","elements","className","Array","from","find","setActiveClass","element","index","checkoutTabs","currentItem","swiperTabs","Swiper","simulateTouch","breakpoints","watchOverflow","slidesPerView","sliderPerGroup","a11y","notificationClass","containerModifierClass","slideClass","slideActiveClass","slideNextClass","slidePrevClass","wrapperClass","swiperContainerTabs","direction","thumbs","swiper","desktopWidth","triggers","items","parent","parentNode","child","onPopupEscPress","preventDefault","BREAKPOINT_TABLET","matchMedia","header","burger","body","modal","closeMenu","openMenu","deleteOpened","matches","position","addListener","modals","settings","stopPlay","lockFocus","startFocus","focusBack","eventTimeout","openCallback","closeCallback","modalElements","isMobile","navigator","userAgent","toLowerCase","match","setTimeout","Modals","_scrollLock","ScrollLock","_focusLock","FocusLock","_modalOpenElements","_openedModalElement","_modalName","_enableScrolling","_settingKey","_settings","_preventDefault","_stopPlay","_lockFocus","_startFocus","_focusBack","_eventTimeout","_openCallback","_closeCallback","_documentKeydownHandler","bind","_documentClickHandler","_modalClickHandler","_init","settingKey","dataset","openModal","imgZoomSrc","src","modalImg","getElementById","open","isEscKey","close","pause","contentWindow","postMessage","autoPlay","modalName","_setSettings","disableScrolling","lock","_addListeners","_autoPlay","unlock","_removeListeners","_stopInteractive","enableScrolling","phoneInputs","COUNTRY_CODE","replacePhoneValue","matrix","def","replace","i","val","a","test","charAt","onInputPhoneInput","onFocusPhoneInput","onBlurPhoneInput","onKeydownPhoneInput","e","selectionStart","keyCode","setSelectionRange","input","questionsAccordionTriggers","questionsTriggersExist","windowWidth","innerWidth","questions","onQuestionAccordionClick","title","blur","onQuestionAccordionKeydown","sliderImage","loop","shortSwipes","pagination","clickable","bulletClass","bulletActiveClass","clickableClass","modifierClass","navigation","nextEl","prevEl","disabledClass","mainProjects","paginationBulletMessage","nextSlideMessage","prevSlideMessage","slideDuplicateActiveClass","slideDuplicateClass","slideDuplicatePrevClass","slideDuplicateNextClass","slidesPerGroup","spaceBetween","bulletElement","promo","sliderCards","specialOferImage","slider","sliderWithText","duplicateSlides","slide","duplicateLink","tabIndex","selectOptions","option","fieldSearch","SELECTORS","_lockedSelector","_focusableElements","_endElement","_selectors","activeElement","focus","shiftKey","lockedSelector","lockedElement","startElement","returnFocus","focusLock","iosChecker","includes","platform","isIos","MSInputMethodContext","documentMode","vh","innerHeight","documentElement","setProperty","_iosChecker","_lockClass","_scrollTop","clientWidth","self","pageYOffset","ScrollTop","scrollTop","scroll","_getBodyScrollTop","_getScrollbarWidth","paddingRight","top","scrollTo","removeAttribute","scrollLock","defaultParams","containerClass","openerClass","panelClass","optionClass","optgroupClass","isSelectedClass","hasFocusClass","isDisabledClass","isOpenClass","builder","builderParams","isOpen","uId","container","opener","focusedElement","selectedElement","panel","currLabel","resetSearchTimeout","searchKey","setFocusedElement","cstOption","offsetTop","offsetParent","dispatchEvent","CustomEvent","bubbles","undefined","setSelectedElement","children","textContent","customSelectOriginalOption","text","setValue","toSelect","options","selected","selectedIndex","customSelectCstOption","moveFocuesedElement","currentFocusedIndex","indexOf","call","bool","openedCustomSelect","clickEvent","mouseoverEvent","keydownEvent","clearTimeout","String","fromCharCode","l","toUpperCase","substr","changeEvent","scrollToFocused","currPanel","currentTarget","currOption","addEvents","removeEvents","disabled","parseMarkup","nodeList","cstList","TypeError","li","HTMLElement","tagName","cstOptgroup","createElement","label","customSelectOriginalOptgroup","customSelectCstOptgroup","subNodes","j","lj","appendChild","push","append","nodePar","appendIntoOriginal","targetPar","node","markupToInsert","insertBefore","cstNode","removeChild","removedNode","empty","removed","destroy","optGroup","getElementsByTagName","replaceChild","innerHTML","possible","Math","floor","random","pluginOptions","customParams","selects","init","elementsList","Object","assign"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/main.js\");\n","import {iosVhFix} from './utils/ios-vh-fix';\n\nimport {initModals} from './modules/modals/init-modals';\n\nimport {visibleSearchField} from './modules/visible-search';\nimport {mobileMenu} from './modules/mobile-menu';\nimport {headerTabs} from './modules/header-tabs';\nimport {enablePromoSlider} from './modules/slider-promo';\nimport {enableMainProjectsSlider} from './modules/slider-main-projects';\nimport {enableSliderWithText} from './modules/slider-with-text';\nimport {enableSliderTextPage} from './modules/slider-text-page';\nimport {enableSliderImage} from './modules/slider-image';\nimport {enableSpecialOfferSlider} from './modules/slider-spec-offer';\nimport {enableRelatedProductsSlider} from './modules/slider-related-products';\nimport {setAccordions} from './modules/qanda-accordions';\nimport {setCheckboxAccordions} from './modules/checkbox-accordions';\nimport {setCatalogSelect} from './modules/catalog-select';\nimport {setCatalogForm} from './modules/catalog-form';\nimport {initPhoneMask} from './modules/phone-mask';\nimport {initConfigurationTab} from './modules/configuration-tabs';\nimport {enableSwiperTabs} from './modules/configuration-tabs';\nimport {disableTabIndex, enableTabIndex} from './modules/tabIndex';\nimport {initAutoResizeTextarea} from './modules/auto-resize-textarea';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  iosVhFix();\n\n  visibleSearchField();\n  mobileMenu();\n  headerTabs();\n  enablePromoSlider();\n  enableMainProjectsSlider();\n  enableSliderWithText();\n  enableSliderTextPage();\n  enableSliderImage();\n  enableSpecialOfferSlider();\n  enableRelatedProductsSlider();\n  enableSwiperTabs();\n  setAccordions();\n  setCheckboxAccordions();\n  setCatalogSelect();\n  setCatalogForm();\n  initPhoneMask();\n  initConfigurationTab();\n  disableTabIndex();\n  enableTabIndex();\n  initAutoResizeTextarea();\n\n\n  window.addEventListener('load', () => {\n    initModals();\n  });\n});\n","const textarea = document.querySelectorAll('.autoresize-textarea');\n\nconst getHeightWithoutBorder = (el) => {\n  let realscrollHeight = el.scrollHeight;\n\n  if (!el.value) {\n    el.value = 0;\n    realscrollHeight = el.scrollHeight;\n    el.value = '';\n  }\n\n  return realscrollHeight + el.offsetHeight - el.clientHeight;\n};\n\nconst resizeHeight = (el) => {\n  el.style.height = 'auto';\n  el.style.height = `${getHeightWithoutBorder(el)}px`;\n};\n\nconst initAutoResizeTextarea = () => {\n  if (!textarea.length) {\n    return;\n  }\n\n  textarea.forEach((el) => {\n    el.classList.add('.is-initialized');\n    el.style.overflow = 'hidden';\n    el.style.resize = 'none';\n    resizeHeight(el);\n\n    el.addEventListener('input', () => {\n      resizeHeight(el);\n    });\n\n    const form = el.closest('form');\n\n    if (form) {\n      form.addEventListener('submit', () => {\n        resizeHeight(el);\n      });\n    }\n  });\n\n  window.addEventListener('resize', () => {\n    textarea.forEach((el) => {\n      resizeHeight(el);\n    });\n  });\n};\n\nexport {initAutoResizeTextarea, resizeHeight};\n","const setCatalogForm = () => {\n  const catalogForm = document.querySelector('.catalog-form__form');\n  const clearButton = document.querySelector('.catalog-form__clear');\n  const openFilters = document.querySelector('.catalog-form__open');\n  const catalogContainer = document.querySelector('.catalog-form__container');\n  if (clearButton) {\n    clearButton.addEventListener('click', () => {\n      catalogForm.reset();\n    });\n  }\n  if (openFilters) {\n    openFilters.addEventListener('click', () => {\n      catalogContainer.classList.toggle('catalog-form__container--show');\n      openFilters.classList.toggle('catalog-form__open--show');\n      if (openFilters.classList.contains('catalog-form__open--show')) {\n        openFilters.setAttribute('aria-label', 'Закрыть форму');\n        openFilters.setAttribute('aria-pressed', 'true');\n      } else {\n        openFilters.setAttribute('aria-pressed', 'false');\n        openFilters.setAttribute('aria-label', 'Открыть форму');\n      }\n    });\n    openFilters.addEventListener('keydown', () => {\n      if (openFilters.classList.contains('catalog-form__open--show')) {\n        catalogContainer.classList.add('catalog-form__container--show');\n        openFilters.classList.add('catalog-form__open--show');\n        openFilters.setAttribute('aria-label', 'Закрыть форму');\n        openFilters.setAttribute('aria-pressed', 'true');\n      } else {\n        catalogContainer.classList.remove('catalog-form__container--show');\n        openFilters.classList.remove('catalog-form__open--show');\n        openFilters.setAttribute('aria-label', 'Открыть форму');\n        openFilters.setAttribute('aria-pressed', 'false');\n      }\n    });\n  }\n};\n\nexport {\n  setCatalogForm\n};\n","import customSelect from '../vendor/custom-select';\n\nconst setCatalogSelect = () => {\n  customSelect('select');\n  if (document.querySelector('#catalog-select')) {\n    let select = document.querySelector('#catalog-select').customSelect;\n    const something = () => {\n      return select;\n    };\n    something();\n  }\n};\n\nexport {\n  setCatalogSelect\n};\n","const setCheckboxAccordions = () => {\n  let checkboxAccordionTriggers;\n  let checkboxTriggersExist = false;\n\n  const checkboxes = document.querySelector('.catalog-form__fieldset');\n\n  if (checkboxes) {\n    checkboxTriggersExist = true;\n    checkboxAccordionTriggers = checkboxes.querySelectorAll('button');\n\n    const onCheckboxAccordionClick = (event) => {\n      const id = event.target.getAttribute('data-accordion');\n      const item = checkboxes.querySelector('li[data-accordion=\"' + id + '\"]');\n      const showItem = document.querySelector('.catalog-form__item--show');\n      const onEscKeydown = (evt) => {\n        if (evt.key === 'Escape' || evt.key === 'Esc') {\n          item.classList.remove('catalog-form__item--show');\n          document.removeEventListener('keydown', onEscKeydown);\n          document.removeEventListener('click', onOverlayClick);\n        }\n      };\n      const onOverlayClick = (evt) => {\n        const target = evt.target;\n        const button = item.querySelector('button');\n        const itsCheckbox = target === button || item.contains(target);\n        if (!itsCheckbox) {\n          item.classList.remove('catalog-form__item--show');\n          document.removeEventListener('keydown', onEscKeydown);\n          document.removeEventListener('click', onOverlayClick);\n        }\n      };\n      document.addEventListener('keydown', onEscKeydown);\n      document.addEventListener('click', onOverlayClick);\n\n\n      if (showItem) {\n        showItem.classList.remove('catalog-form__item--show');\n      }\n      if (item) {\n        item.classList.toggle('catalog-form__item--show');\n      }\n      if (showItem === item) {\n        item.classList.remove('catalog-form__item--show');\n      }\n    };\n\n    if (checkboxTriggersExist) {\n      checkboxAccordionTriggers.forEach((trigger) => {\n        trigger.addEventListener('click', onCheckboxAccordionClick);\n      });\n    }\n  }\n};\n\nexport {\n  setCheckboxAccordions\n};\n","/* globals Swiper */\nconst contents = document.querySelectorAll('.tab-info__content');\nconst tabs = document.querySelectorAll('.tab-info__control');\n\nconst findClearActiveClass = (elements, className = 'active') => {\n  Array.from(elements).find((item) => item.classList.remove(`${className}`));\n};\n\nconst setActiveClass = (element, index, className = 'active') => {\n  element[index].classList.add(`${className}`);\n};\n\nconst checkoutTabs = (item, index) => {\n  item.addEventListener('click', () => {\n    if (item.classList.contains('active')) {\n      return;\n    }\n\n    const currentItem = index;\n\n    findClearActiveClass(tabs);\n    findClearActiveClass(contents);\n\n    setActiveClass(tabs, currentItem);\n    setActiveClass(contents, currentItem);\n  });\n};\n\nconst initConfigurationTab = () => {\n  tabs.forEach(checkoutTabs);\n};\n\nconst enableSwiperTabs = () => {\n  const swiperTabs = new Swiper('.tab-info__controls', {\n    simulateTouch: true,\n    breakpoints: {\n      1024: {\n        watchOverflow: true,\n        slidesPerView: 'auto',\n      },\n      1023: {\n        slidesPerView: 4.5,\n        sliderPerGroup: 1,\n      },\n      768: {\n        slidesPerView: 3.5,\n        sliderPerGroup: 1,\n      },\n      350: {\n        slidesPerView: 2.5,\n        sliderPerGroup: 1,\n      },\n      320: {\n        slidesPerView: 1.5,\n        sliderPerGroup: 1,\n      },\n    },\n    a11y: {\n      notificationClass: 'tab-info__controls-notification',\n    },\n    containerModifierClass: 'product-card-info__tabs--',\n    slideClass: 'tab-info__controls-item',\n    slideActiveClass: 'tab-info__controls-item--active',\n    slideNextClass: 'tab-info__controls-item--next',\n    slidePrevClass: 'tab-info__controls-item--prev',\n    wrapperClass: 'tab-info__controls-list',\n  });\n\n  const swiperContainerTabs = new Swiper('.tab-info__contents', {\n    direction: 'horizontal',\n    thumbs: {\n      swiper: swiperTabs,\n    },\n  });\n\n  return swiperTabs;\n};\n\nexport {initConfigurationTab, enableSwiperTabs};\n","const desktopWidth = 1024;\n\nexport {desktopWidth};\n","const triggers = document.querySelectorAll('.nav__name-links');\nconst items = document.querySelectorAll('.nav__item');\n\nconst headerTabs = () => {\n  triggers.forEach((trigger) => {\n    trigger.addEventListener('click', () => {\n      let parent = trigger.parentNode;\n      if (parent.classList.contains('active')) {\n        parent.classList.remove('active');\n      } else {\n        items.forEach((child) => {\n          child.classList.remove('active');\n          document.addEventListener('click', (evt) => {\n            if (!evt.target.closest('.nav__name-links')) {\n              child.classList.remove('active');\n            }\n          });\n        });\n        parent.classList.add('active');\n      }\n    });\n  });\n};\n\nconst onPopupEscPress = (evt) => {\n  if (evt.key === 'Escape') {\n    evt.preventDefault();\n    items.forEach((item) => {\n      item.classList.remove('active');\n    });\n  }\n};\ndocument.addEventListener('keydown', onPopupEscPress);\n\nexport {headerTabs};\n","const BREAKPOINT_TABLET = window.matchMedia('(max-width: 1023px)');\nconst header = document.querySelector('.header');\nconst burger = document.querySelector('.burger');\nconst body = document.body;\nconst modal = document.querySelector('.modal');\n\nif (header) {\n  header.classList.remove('header--nojs');\n}\n\nconst mobileMenu = () => {\n  if (burger) {\n    burger.addEventListener('click', () => {\n      if (header.classList.contains('opened')) {\n        closeMenu();\n      } else {\n        openMenu();\n      }\n    });\n  }\n};\n\nconst deleteOpened = () => {\n  if (!BREAKPOINT_TABLET.matches) {\n    closeMenu();\n  }\n};\n\nconst openMenu = () => {\n  header.classList.add('opened');\n  body.style.position = 'fixed';\n};\n\nconst closeMenu = () => {\n  header.classList.remove('opened');\n  body.style.position = 'relative';\n};\n\nconst onPopupEscPress = (evt) => {\n  if (evt.key === 'Escape') {\n    evt.preventDefault();\n    if (header && !modal.classList.contains('is-active')) {\n      header.classList.remove('opened');\n      body.style.position = 'relative';\n    }\n  }\n};\ndocument.addEventListener('keydown', onPopupEscPress);\ndocument.addEventListener('click', (evt) => {\n  if (!evt.target.closest('.header') && modal.classList.contains('is-active')) {\n    if (header) {\n      header.classList.remove('opened');\n    }\n  }\n});\n\nBREAKPOINT_TABLET.addListener(deleteOpened);\n\nexport {mobileMenu};\n","import {Modals} from './modals';\n\nlet modals;\n\nconst settings = {\n  'default': {\n    preventDefault: true,\n    stopPlay: true,\n    lockFocus: true,\n    startFocus: true,\n    focusBack: true,\n    eventTimeout: 400,\n    openCallback: false,\n    closeCallback: false,\n  },\n};\n\nconst initModals = () => {\n  const modalElements = document.querySelectorAll('.modal');\n  const isMobile = navigator.userAgent.toLowerCase().match(/mobile/i);\n  if (modalElements.length) {\n    modalElements.forEach((el) => {\n      setTimeout(() => {\n        el.classList.remove('modal--preload');\n      }, 100);\n      if (isMobile) {\n        el.classList.add('modal--mobile');\n      }\n    });\n  }\n\n  modals = new Modals(settings);\n  window.modals = modals;\n};\n\nexport {modals, initModals};\n","import {ScrollLock} from '../../utils/scroll-lock';\nimport {FocusLock} from '../../utils/focus-lock';\n\nexport class Modals {\n  constructor(settings = {}) {\n    this._scrollLock = new ScrollLock();\n    this._focusLock = new FocusLock();\n\n    this._modalOpenElements = document.querySelectorAll('[data-open-modal]');\n    this._openedModalElement = null;\n    this._modalName = null;\n    this._enableScrolling = true;\n    this._settingKey = 'default';\n\n    this._settings = settings;\n    this._preventDefault = this._settings[this._settingKey].preventDefault;\n    this._stopPlay = this._settings[this._settingKey].stopPlay;\n    this._lockFocus = this._settings[this._settingKey].lockFocus;\n    this._startFocus = this._settings[this._settingKey].startFocus;\n    this._focusBack = this._settings[this._settingKey].focusBack;\n    this._eventTimeout = this._settings[this._settingKey].eventTimeout;\n    this._openCallback = this._settings[this._settingKey].openCallback;\n    this._closeCallback = this._settings[this._settingKey].closeCallback;\n\n    this._documentKeydownHandler = this._documentKeydownHandler.bind(this);\n    this._documentClickHandler = this._documentClickHandler.bind(this);\n    this._modalClickHandler = this._modalClickHandler.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    if (this._modalOpenElements.length) {\n      document.addEventListener('click', this._documentClickHandler);\n    }\n  }\n\n  _setSettings(settingKey = this._settingKey) {\n    if (!this._settings[settingKey]) {\n      return;\n    }\n\n    this._preventDefault =\n      typeof this._settings[settingKey].preventDefault === 'boolean'\n        ? this._settings[settingKey].preventDefault\n        : this._settings[this._settingKey].preventDefault;\n    this._stopPlay =\n      typeof this._settings[settingKey].stopPlay === 'boolean'\n        ? this._settings[settingKey].stopPlay\n        : this._settings[this._settingKey].stopPlay;\n    this._lockFocus =\n      typeof this._settings[settingKey].lockFocus === 'boolean'\n        ? this._settings[settingKey].lockFocus\n        : this._settings[this._settingKey].lockFocus;\n    this._startFocus =\n      typeof this._settings[settingKey].startFocus === 'boolean'\n        ? this._settings[settingKey].startFocus\n        : this._settings[this._settingKey].startFocus;\n    this._focusBack =\n      typeof this._settings[settingKey].lockFocus === 'boolean'\n        ? this._settings[settingKey].focusBack\n        : this._settings[this._settingKey].focusBack;\n    this._eventTimeout =\n      typeof this._settings[settingKey].eventTimeout === 'number'\n        ? this._settings[settingKey].eventTimeout\n        : this._settings[this._settingKey].eventTimeout;\n    this._openCallback =\n      this._settings[settingKey].openCallback ||\n      this._settings[this._settingKey].openCallback;\n    this._closeCallback =\n      this._settings[settingKey].closeCallback ||\n      this._settings[this._settingKey].closeCallback;\n  }\n\n  _documentClickHandler(evt) {\n    const target = evt.target;\n\n    if (!target.closest('[data-open-modal]')) {\n      return;\n    }\n\n    evt.preventDefault();\n\n    this._modalName = target.closest('[data-open-modal]').dataset.openModal;\n\n    if (!this._modalName) {\n      return;\n    }\n\n    if (this._modalName === 'zoom') {\n      const imgZoomSrc = target.closest('[data-open-modal]').src;\n      const modalImg = document.getElementById('zoom-img');\n      modalImg.src = imgZoomSrc;\n    }\n\n    this.open();\n  }\n\n  _documentKeydownHandler(evt) {\n    const isEscKey = evt.key === 'Escape' || evt.key === 'Esc';\n\n    if (isEscKey) {\n      evt.preventDefault();\n      this.close(document.querySelector('.modal.is-active').dataset.modal);\n    }\n  }\n\n  _modalClickHandler(evt) {\n    const target = evt.target;\n\n    if (!target.closest('[data-close-modal]')) {\n      return;\n    }\n\n    this.close(target.closest('[data-modal]').dataset.modal);\n  }\n\n  _addListeners(modal) {\n    modal.addEventListener('click', this._modalClickHandler);\n    document.addEventListener('keydown', this._documentKeydownHandler);\n  }\n\n  _removeListeners(modal) {\n    modal.removeEventListener('click', this._modalClickHandler);\n    document.removeEventListener('keydown', this._documentKeydownHandler);\n  }\n\n  _stopInteractive(modal) {\n    if (this._stopPlay) {\n      modal.querySelectorAll('video, audio').forEach((el) => el.pause());\n      modal.querySelectorAll('[data-iframe]').forEach((el) => {\n        el.querySelector('iframe').contentWindow.postMessage(\n            '{\"event\": \"command\", \"func\": \"pauseVideo\", \"args\": \"\"}',\n            '*'\n        );\n      });\n    }\n  }\n\n  _autoPlay(modal) {\n    modal.querySelectorAll('[data-iframe]').forEach((el) => {\n      const autoPlay = el.closest('[data-auto-play]');\n      if (autoPlay) {\n        el.querySelector('iframe').contentWindow.postMessage(\n            '{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}',\n            '*'\n        );\n      }\n    });\n  }\n\n  open(modalName = this._modalName) {\n    const modal = document.querySelector(`[data-modal=\"${modalName}\"]`);\n\n    if (!modal || modal.classList.contains('is-active')) {\n      return;\n    }\n\n    document.removeEventListener('click', this._documentClickHandler);\n\n    this._openedModalElement = document.querySelector('.modal.is-active');\n\n    if (this._openedModalElement) {\n      this._enableScrolling = false;\n      this.close(this._openedModalElement.dataset.modal);\n    }\n\n    this._setSettings(modalName);\n    modal.classList.add('is-active');\n\n    if (!this._openedModalElement) {\n      this._scrollLock.disableScrolling();\n    }\n\n    if (this._openCallback) {\n      this._openCallback();\n    }\n\n    if (this._lockFocus) {\n      this._focusLock.lock('.modal.is-active', this._startFocus);\n    }\n\n    setTimeout(() => {\n      this._addListeners(modal);\n      this._autoPlay(modal);\n      document.addEventListener('click', this._documentClickHandler);\n    }, this._eventTimeout);\n  }\n\n  close(modalName = this._modalName) {\n    const modal = document.querySelector(`[data-modal=\"${modalName}\"]`);\n    document.removeEventListener('click', this._documentClickHandler);\n\n    if (!modal || !modal.classList.contains('is-active')) {\n      return;\n    }\n\n    if (this._lockFocus) {\n      this._focusLock.unlock(this._focusBack);\n    }\n\n    modal.classList.remove('is-active');\n    this._removeListeners(modal);\n    this._stopInteractive(modal);\n\n    if (this._closeCallback) {\n      this._closeCallback();\n    }\n\n    if (this._enableScrolling) {\n      setTimeout(() => {\n        this._scrollLock.enableScrolling();\n      }, this._eventTimeout);\n    }\n\n    setTimeout(() => {\n      document.addEventListener('click', this._documentClickHandler);\n    }, this._eventTimeout);\n\n    this._setSettings('default');\n    this._enableScrolling = true;\n  }\n}\n","const phoneInputs = document.querySelectorAll('input[type=\"tel\"]');\nconst COUNTRY_CODE = '+7';\nconst length = COUNTRY_CODE.length;\n\nconst replacePhoneValue = (el) => {\n  const matrix = `${COUNTRY_CODE} (___) ___ __ __`;\n  const def = matrix.replace(/\\D/g, '');\n  let i = 0;\n  let val = el.value.replace(/\\D/g, '');\n  if (def.length >= val.length) {\n    val = def;\n  }\n  el.value = matrix.replace(/./g, (a) => {\n    return /[_\\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? '' : a;\n  });\n};\n\nconst onInputPhoneInput = ({target}) => {\n  replacePhoneValue(target);\n};\n\nconst onFocusPhoneInput = ({target}) => {\n  if (!target.value) {\n    target.value = COUNTRY_CODE;\n    target.addEventListener('input', onInputPhoneInput);\n    target.addEventListener('blur', onBlurPhoneInput);\n    target.addEventListener('keydown', onKeydownPhoneInput);\n  }\n};\n\nconst onKeydownPhoneInput = (e) => {\n  if (e.target.selectionStart <= length && e.keyCode !== 8 && e.keyCode !== 46) {\n    e.target.setSelectionRange(length, length);\n  }\n  if ((e.target.selectionStart === length || e.target.selectionStart === 1) && e.keyCode === 8) {\n    e.preventDefault();\n  }\n  if (e.target.selectionStart === 1 && e.keyCode === 46) {\n    e.preventDefault();\n  }\n};\n\nconst onBlurPhoneInput = ({target}) => {\n  if (target.value === COUNTRY_CODE) {\n    target.value = '';\n    target.removeEventListener('input', onInputPhoneInput);\n    target.removeEventListener('blur', onBlurPhoneInput);\n  }\n};\n\nconst initPhoneMask = () => {\n  if (phoneInputs.length) {\n    phoneInputs.forEach((input) => {\n      input.addEventListener('focus', onFocusPhoneInput);\n      if (input.value) {\n        replacePhoneValue(input);\n        input.addEventListener('input', onInputPhoneInput);\n        input.addEventListener('blur', onBlurPhoneInput);\n        input.addEventListener('keydown', onKeydownPhoneInput);\n      }\n    });\n  }\n};\n\nexport {initPhoneMask};\n","import {desktopWidth} from './constants';\n\nconst setAccordions = () => {\n  let questionsAccordionTriggers;\n  let questionsTriggersExist = false;\n  const windowWidth = window.innerWidth;\n  const questions = document.querySelector('.main-qanda');\n\n  if (questions) {\n    questionsTriggersExist = true;\n    questionsAccordionTriggers = questions.querySelectorAll('h3');\n\n    const onQuestionAccordionClick = (evt) => {\n      const id = evt.target.getAttribute('data-accordion');\n      const item = questions.querySelector('li[data-accordion=\"' + id + '\"]');\n      const title = item.querySelector('h3');\n\n      if (!item.classList.contains('accordion__item--show')) {\n        item.classList.add('accordion__item--show');\n        title.blur();\n      } else {\n        item.classList.remove('accordion__item--show');\n        title.blur();\n      }\n    };\n\n    const onQuestionAccordionKeydown = (evt) => {\n      const id = evt.target.getAttribute('data-accordion');\n      const item = questions.querySelector('li[data-accordion=\"' + id + '\"]');\n      const title = item.querySelector('h3');\n\n      if (evt.key === ' ' || evt.key === 'Enter') {\n        evt.preventDefault();\n        if (!item.classList.contains('accordion__item--show')) {\n          item.classList.add('accordion__item--show');\n          if (windowWidth < desktopWidth) {\n            title.blur();\n          }\n        } else {\n          item.classList.remove('accordion__item--show');\n          if (windowWidth < desktopWidth) {\n            title.blur();\n          }\n        }\n      }\n    };\n\n    if (questionsTriggersExist) {\n      questionsAccordionTriggers.forEach((trigger) => {\n        trigger.addEventListener('click', onQuestionAccordionClick);\n        trigger.addEventListener('keydown', onQuestionAccordionKeydown);\n      });\n    }\n  }\n};\n\nexport {\n  setAccordions\n};\n","/* globals Swiper */\nconst enableSliderImage = () => {\n  const sliderImage = new Swiper('.slider-image', {\n    a11y: {\n      notificationClass: 'slider-image__notification',\n    },\n    containerModifierClass: 'slider-image--',\n    slideClass: 'slider-image__slide',\n    slideActiveClass: 'slider-image__slide--active',\n    slideNextClass: 'slider-image__slide--next',\n    slidePrevClass: 'slider-image__slide--prev',\n    wrapperClass: 'slider-image__wrapper',\n    loop: true,\n    shortSwipes: false,\n    pagination: {\n      el: '.slider-image__pagination',\n      clickable: true,\n      bulletClass: 'slider-image__pagination-bullet',\n      bulletActiveClass: 'slider-image__pagination-bullet--active',\n      clickableClass: 'slider-image__pagination--clickable',\n      modifierClass: 'slider-image__pagination--',\n    },\n    navigation: {\n      nextEl: '.slider-image__btn--next',\n      prevEl: '.slider-image__btn--prev',\n      disabledClass: '.slider-image__btn--disabled',\n    },\n  });\n\n  return sliderImage;\n};\n\nexport {enableSliderImage};\n","/* globals Swiper */\nconst enableMainProjectsSlider = () => {\n  const mainProjects = new Swiper('.main-projects__slider', {\n    a11y: {\n      notificationClass: 'main-projects__notification',\n      paginationBulletMessage: 'Перейти к слайду {{index}}',\n      nextSlideMessage: 'Следующий слайд',\n      prevSlideMessage: 'Предыдущий слайд',\n    },\n    navigation: {\n      nextEl: '.main-projects__button--next',\n      prevEl: '.main-projects__button--prev',\n      disabledClass: 'main-projects__button--disabled',\n    },\n    containerModifierClass: 'main-projects__slider--',\n    slideClass: 'main-projects__slide',\n    slideActiveClass: 'main-projects__slide--active',\n    slideNextClass: 'main-projects__slide--next',\n    slidePrevClass: 'main-projects__slide--prev',\n    wrapperClass: 'main-projects__wrapper',\n    slideDuplicateActiveClass: 'main-projects__slide--duplicate-active',\n    slideDuplicateClass: 'main-projects__slide--duplicate',\n    slideDuplicatePrevClass: 'main-projects__slide--duplicate-prev',\n    slideDuplicateNextClass: 'main-projects__slide--duplicate-next',\n    loop: true,\n    breakpoints: {\n      1024: {\n        slidesPerView: 3,\n        slidesPerGroup: 3,\n        spaceBetween: 40,\n      },\n      768: {\n        slidesPerView: 2,\n        slidesPerGroup: 2,\n        spaceBetween: 20,\n      },\n      320: {\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        spaceBetween: 20,\n      },\n    },\n    pagination: {\n      el: '.main-projects__pagination',\n      clickable: true,\n      bulletClass: 'main-projects__bullet',\n      bulletActiveClass: 'main-projects__bullet--active',\n      clickableClass: 'main-projects__pagination--clickable',\n      modifierClass: 'main-projects__pagination--',\n      bulletElement: 'button',\n    },\n  });\n\n  return mainProjects;\n};\n\nexport {\n  enableMainProjectsSlider\n};\n","/* globals Swiper */\nconst enablePromoSlider = () => {\n  const promo = new Swiper('.promo__slider', {\n    a11y: {\n      notificationClass: 'promo__notification',\n      paginationBulletMessage: 'Перейти к слайду {{index}}',\n    },\n    containerModifierClass: 'promo__slider--',\n    slideClass: 'promo__slide',\n    slideActiveClass: 'promo__slide--active',\n    slideNextClass: 'promo__slide--next',\n    slidePrevClass: 'promo__slide--prev',\n    slideDuplicateActiveClass: 'promo__slide--duplicate-active',\n    slideDuplicateClass: 'promo__slide--duplicate',\n    slideDuplicatePrevClass: 'promo__slide--duplicate-prev',\n    slideDuplicateNextClass: 'promo__slide--duplicate-next',\n    wrapperClass: 'promo__wrapper',\n    loop: true,\n    spaceBetween: 170,\n    pagination: {\n      el: '.promo__pagination',\n      clickable: true,\n      bulletClass: 'promo__bullet',\n      bulletActiveClass: 'promo__bullet--active',\n      clickableClass: 'promo__pagination--clickable',\n      modifierClass: 'promo__pagination--',\n      bulletElement: 'button',\n    },\n  });\n\n  return promo;\n};\n\nexport {\n  enablePromoSlider\n};\n","/* globals Swiper */\nconst enableRelatedProductsSlider = () => {\n  const sliderCards = new Swiper('.product-similar__slider', {\n    a11y: {\n      notificationClass: 'product-similar__slider-notification',\n    },\n    containerModifierClass: 'product-similar__slider--',\n    slideClass: 'product-similar__slide',\n    slideActiveClass: 'product-similar__slide--active',\n    slideNextClass: 'product-similar__slide--next',\n    slidePrevClass: 'product-similar__slide--prev',\n    wrapperClass: 'product-similar__slider-wrapper',\n    loop: true,\n    breakpoints: {\n      1024: {\n        slidesPerView: 3,\n        slidesPerGroup: 1,\n        spaceBetween: 40,\n      },\n      768: {\n        slidesPerView: 2,\n        slidesPerGroup: 1,\n        spaceBetween: 20,\n      },\n      320: {\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        spaceBetween: 0,\n      },\n    },\n    pagination: {\n      el: '.product-similar__slider-pagination',\n      clickable: true,\n      bulletClass: 'product-similar__slider-pagination-bullet',\n      bulletActiveClass: 'product-similar__slider-pagination-bullet--active',\n      clickableClass: 'product-similar__slider-pagination--clickable',\n      modifierClass: 'product-similar__slider-pagination--',\n    },\n\n    navigation: {\n      nextEl: '.product-similar__slider-btn--next',\n      prevEl: '.product-similar__slider-btn--prev',\n      disabledClass: '.product-similar__slider-btn--disabled',\n    },\n  });\n\n  return sliderCards;\n};\n\nexport {enableRelatedProductsSlider};\n","/* globals Swiper */\nconst enableSpecialOfferSlider = () => {\n  const specialOferImage = new Swiper('.product-card-offer__slider', {\n    a11y: {\n      notificationClass: 'product-card-offer__notification',\n    },\n    containerModifierClass: 'product-card-offer__slider--',\n    slideClass: 'product-card-offer__slide',\n    slideActiveClass: 'product-card-offer__slide--active',\n    slideNextClass: 'product-card-offer__slide--next',\n    slidePrevClass: 'product-card-offer__slide--prev',\n    wrapperClass: 'product-card-offer__slider-wrapper',\n    loop: true,\n    shortSwipes: false,\n    pagination: {\n      el: '.product-card-offer__slider-pagination',\n      clickable: true,\n      bulletClass: 'product-card-offer__slider-pagination-bullet',\n      bulletActiveClass: 'product-card-offer__slider-pagination-bullet--active',\n      clickableClass: 'product-card-offer__slider-pagination--clickable',\n      modifierClass: 'product-card-offer__slider-pagination--',\n    },\n\n    navigation: {\n      nextEl: '.product-card-offer__slider-btn--next',\n      prevEl: '.product-card-offer__slider-btn--prev',\n      disabledClass: '.product-card-offer__slider-btn--disabled',\n    },\n  });\n\n  return specialOferImage;\n};\n\nexport {enableSpecialOfferSlider};\n","/* globals Swiper */\nconst enableSliderTextPage = () => {\n  const slider = new Swiper('.text-page__slider', {\n    direction: 'horizontal',\n    loop: true,\n    pagination: {\n      el: '.text-page__slider-pagination',\n      clickable: true,\n      bulletClass: 'page-text-slider__bullet',\n      bulletActiveClass: 'page-text-slider__bullet--active',\n      clickableClass: 'page-text-slider__pagination--clickable',\n      modifierClass: 'page-text-slider__pagination--',\n    },\n    navigation: {\n      nextEl: '.text-page__slider-button--next',\n      prevEl: '.text-page__slider-button--prev',\n      disabledClass: '.text-page__slider-button--disabled',\n    },\n    a11y: {\n      notificationClass: 'page-text-slider__notification',\n    },\n  });\n\n  return slider;\n};\n\nexport {\n  enableSliderTextPage\n};\n","/* globals Swiper */\nconst enableSliderWithText = () => {\n  const sliderWithText = new Swiper('.slider-with-text', {\n    direction: 'horizontal',\n    slidesPerView: 1,\n    loop: true,\n    shortSwipes: false,\n    pagination: {\n      el: '.slider-with-text__pagination',\n      clickable: true,\n      bulletClass: 'page-text-slider__bullet',\n      bulletActiveClass: 'page-text-slider__bullet--active',\n      clickableClass: 'page-text-slider__pagination--clickable',\n      modifierClass: 'page-text-slider__pagination--',\n    },\n    navigation: {\n      nextEl: '.slider-with-text__button--next',\n      prevEl: '.slider-with-text__button--prev',\n      disabledClass: '.slider-with-text__button--disabled',\n    },\n  });\n\n  return sliderWithText;\n};\n\nexport {\n  enableSliderWithText\n};\n","const disableTabIndex = () => {\n  const duplicateSlides = document.querySelectorAll('.main-projects__slide--duplicate');\n  if (duplicateSlides) {\n    duplicateSlides.forEach((slide) => {\n      const duplicateLink = slide.querySelector('.main-projects__link');\n      duplicateLink.tabIndex = '-1';\n    });\n  }\n};\n\nconst enableTabIndex = () => {\n  const selectOptions = document.querySelectorAll('.select__option');\n  if (selectOptions) {\n    selectOptions.forEach((option) => {\n      option.tabIndex = '0';\n    });\n  }\n};\n\nexport {\n  disableTabIndex,\n  enableTabIndex\n};\n","const fieldSearch = document.querySelector('.header__search');\n\nconst visibleSearchField = () => {\n  document.addEventListener('click', (evt) => {\n    let target = evt.target;\n    if (fieldSearch) {\n      if (target.closest('.header__contact-button--search')) {\n        fieldSearch.classList.toggle('active');\n      } else if (!target.closest('.header__contact-button--search') && !target.closest('.header__search')) {\n        fieldSearch.classList.remove('active');\n      }\n    }\n  });\n};\n\nconst onPopupEscPress = (evt) => {\n  if (evt.key === 'Escape') {\n    evt.preventDefault();\n    if (fieldSearch) {\n      fieldSearch.classList.remove('active');\n    }\n  }\n};\ndocument.addEventListener('keydown', onPopupEscPress);\n\nexport {visibleSearchField};\n","const SELECTORS = [\n  'a[href]',\n  'area[href]',\n  'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n  'select:not([disabled]):not([aria-hidden])',\n  'textarea:not([disabled]):not([aria-hidden])',\n  'button:not([disabled]):not([aria-hidden])',\n  'iframe',\n  'object',\n  'embed',\n  '[contenteditable]',\n  '[tabindex]:not([tabindex^=\"-\"])'\n];\n\nexport class FocusLock {\n  constructor() {\n    this._lockedSelector = null;\n    this._focusableElements = null;\n    this._endElement = null;\n    this._selectors = SELECTORS;\n\n    this._documentKeydownHandler = this._documentKeydownHandler.bind(this);\n  }\n\n  _documentKeydownHandler(evt) {\n    const activeElement = document.activeElement;\n    if (evt.key === 'Tab') {\n      if (!this._focusableElements.length) {\n        evt.preventDefault();\n        activeElement.blur();\n        return;\n      }\n      if (this._focusableElements.length === 1) {\n        evt.preventDefault();\n        this._focusableElements[0].focus();\n        return;\n      }\n      if (this._focusableElements.length > 1 && !activeElement.closest(this._lockedSelector)) {\n        evt.preventDefault();\n        this._focusableElements[0].focus();\n        return;\n      }\n    }\n    if (evt.key === 'Tab' && !evt.shiftKey && activeElement === this._focusableElements[this._focusableElements.length - 1]) {\n      evt.preventDefault();\n      this._focusableElements[0].focus();\n    }\n    if (evt.key === 'Tab' && evt.shiftKey && activeElement === this._focusableElements[0]) {\n      evt.preventDefault();\n      this._focusableElements[this._focusableElements.length - 1].focus();\n    }\n  }\n\n  lock(lockedSelector, startFocus = true) {\n    this.unlock();\n    this._lockedSelector = lockedSelector;\n    const lockedElement = document.querySelector(this._lockedSelector);\n    this._focusableElements = lockedElement .querySelectorAll(this._selectors);\n    this._endElement = document.activeElement;\n    const startElement = lockedElement .querySelector('[data-focus]') || this._focusableElements[0];\n    if (this._endElement) {\n      this._endElement.blur();\n    }\n    if (startElement && startFocus) {\n      startElement.focus();\n    }\n    document.addEventListener('keydown', this._documentKeydownHandler);\n  }\n\n  unlock(returnFocus = true) {\n    if (this._endElement && returnFocus) {\n      this._endElement.focus();\n    }\n    this._lockedSelector = null;\n    this._focusableElements = null;\n    this._endElement = null;\n    document.removeEventListener('keydown', this._documentKeydownHandler);\n  }\n}\n\nwindow.focusLock = new FocusLock();\n","export const iosChecker = () => {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n};\n","const isIos = () => {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n};\n\nconst iosVhFix = () => {\n  if (!(!!window.MSInputMethodContext && !!document.documentMode)) {\n    if (isIos()) {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n      window.addEventListener('resize', function () {\n        vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      });\n    }\n  }\n};\n\nexport {iosVhFix};\n","import {iosChecker} from './ios-checker';\n\nexport class ScrollLock {\n  constructor() {\n    this._iosChecker = iosChecker;\n    this._lockClass = this._iosChecker() ? 'scroll-lock-ios' : 'scroll-lock';\n    this._scrollTop = null;\n  }\n\n  _getScrollbarWidth() {\n    return window.innerWidth - document.documentElement.clientWidth;\n  }\n\n  _getBodyScrollTop() {\n    return (\n      self.pageYOffset ||\n      (document.documentElement && document.documentElement.ScrollTop) ||\n      (document.body && document.body.scrollTop)\n    );\n  }\n\n  disableScrolling() {\n    this._scrollTop = document.body.dataset.scroll = document.body.dataset.scroll ? document.body.dataset.scroll : this._getBodyScrollTop();\n    if (this._getScrollbarWidth()) {\n      document.body.style.paddingRight = `${this._getScrollbarWidth()}px`;\n    }\n    document.body.style.top = `-${this._scrollTop}px`;\n    document.body.classList.add(this._lockClass);\n  }\n\n  enableScrolling() {\n    document.body.classList.remove(this._lockClass);\n    window.scrollTo(0, +document.body.dataset.scroll);\n    document.body.style.paddingRight = null;\n    document.body.style.top = null;\n    document.body.removeAttribute('data-scroll');\n    this._scrollTop = null;\n  }\n}\n\nwindow.scrollLock = new ScrollLock();\n","/**\n * custom-select\n * A lightweight JS script for custom select creation.\n * Needs no dependencies.\n *\n * v0.0.1\n * (https://github.com/custom-select/custom-select)\n *\n * Copyright (c) 2016 Gionatan Lombardi & Marco Nucara\n * MIT License\n */\n\nconst defaultParams = {\n  containerClass: \"select__container\",\n  openerClass: \"select__opener\",\n  panelClass: \"select__panel\",\n  optionClass: \"select__option\",\n  optgroupClass: \"select__optgroup\",\n  isSelectedClass: \"select__option--selected\",\n  hasFocusClass: \"select__option--focus\",\n  isDisabledClass: \"select__container--disabled\",\n  isOpenClass: \"select__container--open\",\n};\n\nfunction builder(el, builderParams) {\n  const containerClass = \"customSelect\";\n  let isOpen = false;\n  let uId = \"\";\n  const select = el;\n  let container;\n  let opener;\n  let focusedElement;\n  let selectedElement;\n  let panel;\n  let currLabel;\n\n  let resetSearchTimeout;\n  let searchKey = \"\";\n\n  //\n  // Inner Functions\n  //\n\n  // Sets the focused element with the neccessary classes substitutions\n  function setFocusedElement(cstOption) {\n    if (focusedElement) {\n      focusedElement.classList.remove(builderParams.hasFocusClass);\n    }\n    if (typeof cstOption !== \"undefined\") {\n      focusedElement = cstOption;\n      focusedElement.classList.add(builderParams.hasFocusClass);\n      // Offset update: checks if the focused element is in the visible part of the panelClass\n      // if not dispatches a custom event\n      if (isOpen) {\n        if (\n          cstOption.offsetTop < cstOption.offsetParent.scrollTop ||\n          cstOption.offsetTop >\n            cstOption.offsetParent.scrollTop +\n              cstOption.offsetParent.clientHeight -\n              cstOption.clientHeight\n        ) {\n          cstOption.dispatchEvent(\n            new CustomEvent(\"custom-select:focus-outside-panel\", {\n              bubbles: true,\n            })\n          );\n        }\n      }\n    } else {\n      focusedElement = undefined;\n    }\n  }\n\n  // Reassigns the focused and selected custom option\n  // Updates the opener text\n  // IMPORTANT: the setSelectedElement function doesn't change the select value!\n  function setSelectedElement(cstOption) {\n    if (selectedElement) {\n      selectedElement.classList.remove(builderParams.isSelectedClass);\n      selectedElement.removeAttribute(\"id\");\n      opener.removeAttribute(\"aria-activedescendant\");\n    }\n    if (typeof cstOption !== \"undefined\") {\n      cstOption.classList.add(builderParams.isSelectedClass);\n      cstOption.setAttribute(\"id\", `${containerClass}-${uId}-selectedOption`);\n      opener.setAttribute(\n        \"aria-activedescendant\",\n        `${containerClass}-${uId}-selectedOption`\n      );\n      selectedElement = cstOption;\n      opener.children[0].textContent =\n        selectedElement.customSelectOriginalOption.text;\n    } else {\n      selectedElement = undefined;\n      opener.children[0].textContent = \"\";\n    }\n    setFocusedElement(cstOption);\n  }\n\n  function setValue(value) {\n    // Gets the option with the provided value\n    let toSelect = select.querySelector(`option[value='${value}']`);\n    // If no option has the provided value get the first\n    if (!toSelect) {\n      [toSelect] = select.options;\n    }\n    // The option with the provided value becomes the selected one\n    // And changes the select current value\n    toSelect.selected = true;\n\n    setSelectedElement(\n      select.options[select.selectedIndex].customSelectCstOption\n    );\n  }\n\n  function moveFocuesedElement(direction) {\n    // Get all the .custom-select-options\n    // Get the index of the current focused one\n    const currentFocusedIndex = [].indexOf.call(\n      select.options,\n      focusedElement.customSelectOriginalOption\n    );\n    // If the next or prev custom option exist\n    // Sets it as the new focused one\n    if (select.options[currentFocusedIndex + direction]) {\n      setFocusedElement(\n        select.options[currentFocusedIndex + direction].customSelectCstOption\n      );\n    }\n  }\n\n  // Open/Close function (toggle)\n  function open(bool) {\n    // Open\n    if (bool || typeof bool === \"undefined\") {\n      // If present closes an opened instance of the plugin\n      // Only one at time can be open\n      const openedCustomSelect = document.querySelector(\n        `.${containerClass}.${builderParams.isOpenClass}`\n      );\n      if (openedCustomSelect) {\n        openedCustomSelect.customSelect.open = false;\n      }\n\n      // Opens only the clicked one\n      container.classList.add(builderParams.isOpenClass);\n\n      // aria-expanded update\n      container.classList.add(builderParams.isOpenClass);\n      opener.setAttribute(\"aria-expanded\", \"true\");\n\n      // Updates the scrollTop position of the panel in relation with the focused option\n      if (selectedElement) {\n        panel.scrollTop = selectedElement.offsetTop;\n      }\n\n      // Dispatches the custom event open\n      container.dispatchEvent(new CustomEvent(\"custom-select:open\"));\n\n      // Sets the global state\n      isOpen = true;\n\n      // Close\n    } else {\n      // Removes the css classes\n      container.classList.remove(builderParams.isOpenClass);\n\n      // aria-expanded update\n      opener.setAttribute(\"aria-expanded\", \"false\");\n\n      // Sets the global state\n      isOpen = false;\n\n      // When closing the panel the focused custom option must be the selected one\n      setFocusedElement(selectedElement);\n\n      // Dispatches the custom event close\n      container.dispatchEvent(new CustomEvent(\"custom-select:close\"));\n    }\n    return isOpen;\n  }\n\n  function clickEvent(e) {\n    // Opener click\n    if (e.target === opener || opener.contains(e.target)) {\n      if (isOpen) {\n        open(false);\n      } else {\n        open();\n      }\n      // Custom Option click\n    } else if (\n      e.target.classList &&\n      e.target.classList.contains(builderParams.optionClass) &&\n      panel.contains(e.target)\n    ) {\n      setSelectedElement(e.target);\n      // Sets the corrisponding select's option to selected updating the select's value too\n      selectedElement.customSelectOriginalOption.selected = true;\n      open(false);\n      // Triggers the native change event of the select\n      select.dispatchEvent(new CustomEvent(\"change\"));\n      // click on label or select (click on label corrispond to select click)\n    } else if (e.target === select) {\n      // if the original select is focusable (for any external reason) let the focus\n      // else trigger the focus on opener\n      if (\n        opener !== document.activeElement &&\n        select !== document.activeElement\n      ) {\n        opener.focus();\n      }\n      // Click outside the container closes the panel\n    } else if (isOpen && !container.contains(e.target)) {\n      open(false);\n    }\n  }\n\n  function mouseoverEvent(e) {\n    // On mouse move over and options it bacames the focused one\n    if (\n      e.target.classList &&\n      e.target.classList.contains(builderParams.optionClass)\n    ) {\n      setFocusedElement(e.target);\n    }\n  }\n\n  function keydownEvent(e) {\n    if (!isOpen) {\n      // On \"Arrow down\", \"Arrow up\" and \"Space\" keys opens the panel\n      if (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 32) {\n        open();\n      }\n    } else {\n      switch (e.keyCode) {\n        case 13:\n        case 32:\n          // On \"Enter\" or \"Space\" selects the focused element as the selected one\n          setSelectedElement(focusedElement);\n          // Sets the corrisponding select's option to selected updating the select's value too\n          selectedElement.customSelectOriginalOption.selected = true;\n          // Triggers the native change event of the select\n          select.dispatchEvent(new CustomEvent(\"change\"));\n          open(false);\n          break;\n        case 27:\n          // On \"Escape\" closes the panel\n          open(false);\n          break;\n\n        case 38:\n          // On \"Arrow up\" set focus to the prev option if present\n          moveFocuesedElement(-1);\n          break;\n        case 40:\n          // On \"Arrow down\" set focus to the next option if present\n          moveFocuesedElement(+1);\n          break;\n        default:\n          // search in panel (autocomplete)\n          if (e.keyCode >= 48 && e.keyCode <= 90) {\n            // clear existing reset timeout\n            if (resetSearchTimeout) {\n              clearTimeout(resetSearchTimeout);\n            }\n\n            // reset timeout for empty search key\n            resetSearchTimeout = setTimeout(() => {\n              searchKey = \"\";\n            }, 1500);\n\n            // update search keyword appending the current key\n            searchKey += String.fromCharCode(e.keyCode);\n\n            // search the element\n            for (let i = 0, l = select.options.length; i < l; i++) {\n              // removed cause not supported by IE:\n              // if (options[i].text.startsWith(searchKey))\n              if (\n                select.options[i].text\n                  .toUpperCase()\n                  .substr(0, searchKey.length) === searchKey\n              ) {\n                setFocusedElement(select.options[i].customSelectCstOption);\n                break;\n              }\n            }\n          }\n          break;\n      }\n    }\n  }\n\n  function changeEvent() {\n    const index = select.selectedIndex;\n    const element =\n      index === -1 ? undefined : select.options[index].customSelectCstOption;\n\n    setSelectedElement(element);\n  }\n\n  // When the option is outside the visible part of the opened panel, updates the scrollTop position\n  // This is the default behaviour\n  // To block it the plugin user must\n  // add a \"custom-select:focus-outside-panel\" eventListener on the panel\n  // with useCapture set to true\n  // and stopPropagation\n  function scrollToFocused(e) {\n    const currPanel = e.currentTarget;\n    const currOption = e.target;\n    // Up\n    if (currOption.offsetTop < currPanel.scrollTop) {\n      currPanel.scrollTop = currOption.offsetTop;\n      // Down\n    } else {\n      currPanel.scrollTop =\n        currOption.offsetTop + currOption.clientHeight - currPanel.clientHeight;\n    }\n  }\n\n  function addEvents() {\n    document.addEventListener(\"click\", clickEvent);\n    panel.addEventListener(\"mouseover\", mouseoverEvent);\n    panel.addEventListener(\n      \"custom-select:focus-outside-panel\",\n      scrollToFocused\n    );\n    select.addEventListener(\"change\", changeEvent);\n    container.addEventListener(\"keydown\", keydownEvent);\n  }\n\n  function removeEvents() {\n    document.removeEventListener(\"click\", clickEvent);\n    panel.removeEventListener(\"mouseover\", mouseoverEvent);\n    panel.removeEventListener(\n      \"custom-select:focus-outside-panel\",\n      scrollToFocused\n    );\n    select.removeEventListener(\"change\", changeEvent);\n    container.removeEventListener(\"keydown\", keydownEvent);\n  }\n\n  function disabled(bool) {\n    if (bool && !select.disabled) {\n      container.classList.add(builderParams.isDisabledClass);\n      select.disabled = true;\n      opener.removeAttribute(\"tabindex\");\n      container.dispatchEvent(new CustomEvent(\"custom-select:disabled\"));\n      removeEvents();\n    } else if (!bool && select.disabled) {\n      container.classList.remove(builderParams.isDisabledClass);\n      select.disabled = false;\n      opener.setAttribute(\"tabindex\", \"0\");\n      container.dispatchEvent(new CustomEvent(\"custom-select:enabled\"));\n      addEvents();\n    }\n  }\n\n  // Form a given select children DOM tree (options and optgroup),\n  // Creates the corresponding custom HTMLElements list (divs with different classes and attributes)\n  function parseMarkup(children) {\n    const nodeList = children;\n    const cstList = [];\n\n    if (typeof nodeList.length === \"undefined\") {\n      throw new TypeError(\"Invalid Argument\");\n    }\n\n    for (let i = 0, li = nodeList.length; i < li; i++) {\n      if (\n        nodeList[i] instanceof HTMLElement &&\n        nodeList[i].tagName.toUpperCase() === \"OPTGROUP\"\n      ) {\n        const cstOptgroup = document.createElement(\"div\");\n        cstOptgroup.classList.add(builderParams.optgroupClass);\n        cstOptgroup.setAttribute(\"data-label\", nodeList[i].label);\n\n        // IMPORTANT: Stores in a property of the created custom option group\n        // a hook to the the corrisponding select's option group\n        cstOptgroup.customSelectOriginalOptgroup = nodeList[i];\n\n        // IMPORTANT: Stores in a property of select's option group\n        // a hook to the created custom option group\n        nodeList[i].customSelectCstOptgroup = cstOptgroup;\n\n        const subNodes = parseMarkup(nodeList[i].children);\n        for (let j = 0, lj = subNodes.length; j < lj; j++) {\n          cstOptgroup.appendChild(subNodes[j]);\n        }\n\n        cstList.push(cstOptgroup);\n      } else if (\n        nodeList[i] instanceof HTMLElement &&\n        nodeList[i].tagName.toUpperCase() === \"OPTION\"\n      ) {\n        const cstOption = document.createElement(\"div\");\n        cstOption.classList.add(builderParams.optionClass);\n        cstOption.textContent = nodeList[i].text;\n        cstOption.setAttribute(\"data-value\", nodeList[i].value);\n        cstOption.setAttribute(\"role\", \"option\");\n\n        // IMPORTANT: Stores in a property of the created custom option\n        // a hook to the the corrisponding select's option\n        cstOption.customSelectOriginalOption = nodeList[i];\n\n        // IMPORTANT: Stores in a property of select's option\n        // a hook to the created custom option\n        nodeList[i].customSelectCstOption = cstOption;\n\n        // If the select's option is selected\n        if (nodeList[i].selected) {\n          setSelectedElement(cstOption);\n        }\n        cstList.push(cstOption);\n      } else {\n        throw new TypeError(\"Invalid Argument\");\n      }\n    }\n    return cstList;\n  }\n\n  function append(nodePar, appendIntoOriginal, targetPar) {\n    let target;\n    if (typeof targetPar === \"undefined\" || targetPar === select) {\n      target = panel;\n    } else if (\n      targetPar instanceof HTMLElement &&\n      targetPar.tagName.toUpperCase() === \"OPTGROUP\" &&\n      select.contains(targetPar)\n    ) {\n      target = targetPar.customSelectCstOptgroup;\n    } else {\n      throw new TypeError(\"Invalid Argument\");\n    }\n\n    // If the node provided is a single HTMLElement it is stored in an array\n    const node = nodePar instanceof HTMLElement ? [nodePar] : nodePar;\n\n    // Injects the options|optgroup in the select\n    if (appendIntoOriginal) {\n      for (let i = 0, l = node.length; i < l; i++) {\n        if (target === panel) {\n          select.appendChild(node[i]);\n        } else {\n          target.customSelectOriginalOptgroup.appendChild(node[i]);\n        }\n      }\n    }\n\n    // The custom markup to append\n    const markupToInsert = parseMarkup(node);\n\n    // Injects the created DOM content in the panel\n    for (let i = 0, l = markupToInsert.length; i < l; i++) {\n      target.appendChild(markupToInsert[i]);\n    }\n\n    return node;\n  }\n\n  function insertBefore(node, targetPar) {\n    let target;\n    if (\n      targetPar instanceof HTMLElement &&\n      targetPar.tagName.toUpperCase() === \"OPTION\" &&\n      select.contains(targetPar)\n    ) {\n      target = targetPar.customSelectCstOption;\n    } else if (\n      targetPar instanceof HTMLElement &&\n      targetPar.tagName.toUpperCase() === \"OPTGROUP\" &&\n      select.contains(targetPar)\n    ) {\n      target = targetPar.customSelectCstOptgroup;\n    } else {\n      throw new TypeError(\"Invalid Argument\");\n    }\n\n    // The custom markup to append\n    const markupToInsert = parseMarkup(node.length ? node : [node]);\n\n    target.parentNode.insertBefore(markupToInsert[0], target);\n\n    // Injects the option or optgroup node in the original select and returns the injected node\n    return targetPar.parentNode.insertBefore(\n      node.length ? node[0] : node,\n      targetPar\n    );\n  }\n\n  function remove(node) {\n    let cstNode;\n    if (\n      node instanceof HTMLElement &&\n      node.tagName.toUpperCase() === \"OPTION\" &&\n      select.contains(node)\n    ) {\n      cstNode = node.customSelectCstOption;\n    } else if (\n      node instanceof HTMLElement &&\n      node.tagName.toUpperCase() === \"OPTGROUP\" &&\n      select.contains(node)\n    ) {\n      cstNode = node.customSelectCstOptgroup;\n    } else {\n      throw new TypeError(\"Invalid Argument\");\n    }\n    cstNode.parentNode.removeChild(cstNode);\n    const removedNode = node.parentNode.removeChild(node);\n    changeEvent();\n    return removedNode;\n  }\n\n  function empty() {\n    const removed = [];\n    while (select.children.length) {\n      panel.removeChild(panel.children[0]);\n      removed.push(select.removeChild(select.children[0]));\n    }\n    setSelectedElement();\n    return removed;\n  }\n\n  function destroy() {\n    for (let i = 0, l = select.options.length; i < l; i++) {\n      delete select.options[i].customSelectCstOption;\n    }\n    const optGroup = select.getElementsByTagName(\"optgroup\");\n    for (let i = 0, l = optGroup.length; i < l; i++) {\n      delete optGroup.customSelectCstOptgroup;\n    }\n\n    removeEvents();\n\n    return container.parentNode.replaceChild(select, container);\n  }\n  //\n  // Custom Select DOM tree creation\n  //\n\n  // Creates the container/wrapper\n  container = document.createElement(\"div\");\n  container.classList.add(builderParams.containerClass, containerClass);\n\n  // Creates the opener\n  opener = document.createElement(\"span\");\n  opener.className = builderParams.openerClass;\n  opener.setAttribute(\"role\", \"combobox\");\n  opener.setAttribute(\"aria-autocomplete\", \"list\");\n  opener.setAttribute(\"aria-expanded\", \"false\");\n  opener.innerHTML = `<span>\n  ${\n    select.selectedIndex !== -1 ? select.options[select.selectedIndex].text : \"\"\n  }\n  </span>`;\n\n  // Creates the panel\n  // and injects the markup of the select inside\n  // with some tag and attributes replacement\n  panel = document.createElement(\"div\");\n  // Create random id\n  const possible =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 5; i++) {\n    uId += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  panel.id = `${containerClass}-${uId}-panel`;\n  panel.className = builderParams.panelClass;\n  panel.setAttribute(\"role\", \"listbox\");\n  opener.setAttribute(\"aria-owns\", panel.id);\n\n  append(select.children, false);\n\n  // Injects the container in the original DOM position of the select\n  container.appendChild(opener);\n  select.parentNode.replaceChild(container, select);\n  container.appendChild(select);\n  container.appendChild(panel);\n\n  // ARIA labelledby - label\n  if (document.querySelector(`label[for=\"${select.id}\"]`)) {\n    currLabel = document.querySelector(`label[for=\"${select.id}\"]`);\n  } else if (container.parentNode.tagName.toUpperCase() === \"LABEL\") {\n    currLabel = container.parentNode;\n  }\n  if (typeof currLabel !== \"undefined\") {\n    currLabel.setAttribute(\"id\", `${containerClass}-${uId}-label`);\n    opener.setAttribute(\"aria-labelledby\", `${containerClass}-${uId}-label`);\n  }\n\n  // Event Init\n  if (select.disabled) {\n    container.classList.add(builderParams.isDisabledClass);\n  } else {\n    opener.setAttribute(\"tabindex\", \"0\");\n    select.setAttribute(\"tabindex\", \"-1\");\n    addEvents();\n  }\n\n  // Stores the plugin public exposed methods and properties, directly in the container HTMLElement\n  container.customSelect = {\n    get pluginOptions() {\n      return builderParams;\n    },\n    get open() {\n      return isOpen;\n    },\n    set open(bool) {\n      open(bool);\n    },\n    get disabled() {\n      return select.disabled;\n    },\n    set disabled(bool) {\n      disabled(bool);\n    },\n    get value() {\n      return select.value;\n    },\n    set value(val) {\n      setValue(val);\n    },\n    append: (node, target) => append(node, true, target),\n    insertBefore: (node, target) => insertBefore(node, target),\n    remove,\n    empty,\n    destroy,\n    opener,\n    select,\n    panel,\n    container,\n  };\n\n  // Stores the plugin directly in the original select\n  select.customSelect = container.customSelect;\n\n  // Returns the plugin instance, with the public exposed methods and properties\n  return container.customSelect;\n}\n\nexport default function customSelect(element, customParams) {\n  // Overrides the default options with the ones provided by the user\n  const nodeList = [];\n  const selects = [];\n\n  return (function init() {\n    // The plugin is called on a single HTMLElement\n    if (\n      element &&\n      element instanceof HTMLElement &&\n      element.tagName.toUpperCase() === \"SELECT\"\n    ) {\n      nodeList.push(element);\n      // The plugin is called on a selector\n    } else if (element && typeof element === \"string\") {\n      const elementsList = document.querySelectorAll(element);\n      for (let i = 0, l = elementsList.length; i < l; ++i) {\n        if (\n          elementsList[i] instanceof HTMLElement &&\n          elementsList[i].tagName.toUpperCase() === \"SELECT\"\n        ) {\n          nodeList.push(elementsList[i]);\n        }\n      }\n      // The plugin is called on any HTMLElements list (NodeList, HTMLCollection, Array, etc.)\n    } else if (element && element.length) {\n      for (let i = 0, l = element.length; i < l; ++i) {\n        if (\n          element[i] instanceof HTMLElement &&\n          element[i].tagName.toUpperCase() === \"SELECT\"\n        ) {\n          nodeList.push(element[i]);\n        }\n      }\n    }\n\n    // Launches the plugin over every HTMLElement\n    // And stores every plugin instance\n    for (let i = 0, l = nodeList.length; i < l; ++i) {\n      selects.push(\n        builder(nodeList[i], Object.assign({}, defaultParams, customParams))\n      );\n    }\n\n    // Returns all plugin instances\n    return selects;\n  })();\n}\n"],"sourceRoot":""}